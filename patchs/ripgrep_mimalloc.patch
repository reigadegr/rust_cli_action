commit 1d3819b80b6e9c6391baf21a3c85dfdf7cd0f792
Author: reigadegr <2722688642@qq.com>
Date:   Sat Aug 23 14:27:43 2025 +0000

    ripgrep使用mimalloc

diff --git a/ripgrep/Cargo.toml b/ripgrep/Cargo.toml
index 567c033..a414704 100644
--- a/ripgrep/Cargo.toml
+++ b/ripgrep/Cargo.toml
@@ -60,8 +60,6 @@ serde_json = "1.0.23"
 termcolor = "1.1.0"
 textwrap = { version = "0.16.0", default-features = false }
 
-[target.'cfg(all(target_env = "musl", target_pointer_width = "64"))'.dependencies.jemallocator]
-version = "0.5.0"
 
 [dev-dependencies]
 serde = "1.0.77"
diff --git a/ripgrep/crates/core/main.rs b/ripgrep/crates/core/main.rs
index 64f35ce..19f05ed 100644
--- a/ripgrep/crates/core/main.rs
+++ b/ripgrep/crates/core/main.rs
@@ -35,9 +35,8 @@ mod search;
 //
 // Moreover, we only do this on 64-bit systems since jemalloc doesn't support
 // i686.
-#[cfg(all(target_env = "musl", target_pointer_width = "64"))]
 #[global_allocator]
-static ALLOC: jemallocator::Jemalloc = jemallocator::Jemalloc;
+static ALLOC: mimalloc::MiMalloc = mimalloc::MiMalloc;
 
 /// Then, as it was, then again it will be.
 fn main() -> ExitCode {
